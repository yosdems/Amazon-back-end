(this["webpackJsonpamazon-aug"]=this["webpackJsonpamazon-aug"]||[]).push([[0],{100:function(e,t,c){},117:function(e,t,c){},119:function(e,t,c){},121:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(3),s=c.n(n),i=c(29),r=c.n(i),o=(c(71),c(58)),l=c(9),d=(c(72),c(73),c(59)),j=c.n(d),u=c(60),m=c.n(u),h=c(16),b=Object(n.createContext)(),O=function(e){var t=e.reducer,c=e.initialState,s=e.children;return Object(a.jsx)(b.Provider,{value:Object(n.useReducer)(t,c),children:s})},p=function(){return Object(n.useContext)(b)},x=c(39),_=x.a.initializeApp({apiKey:"AIzaSyDqAIM9AWTktlLOrHukb2fmD_0kYI9EZVM",authDomain:"back-end-1d037.firebaseapp.com",projectId:"back-end-1d037",storageBucket:"back-end-1d037.appspot.com",messagingSenderId:"1078222327625",appId:"1:1078222327625:web:0abbc0687d5907976e9498",measurementId:"G-V398ZC4MFH"}).firestore(),g=x.a.auth();var v=function(){var e=p(),t=Object(l.a)(e,2),c=t[0],n=c.basket,s=c.user;return t[1],Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)(h.b,{to:"/",children:Object(a.jsx)("img",{className:"header__logo",src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png"})}),Object(a.jsxs)("div",{className:"header__search",children:[Object(a.jsx)("input",{className:"header__searchInput",type:"text"}),Object(a.jsx)(j.a,{className:"header__searchIcon"})]}),Object(a.jsxs)("div",{className:"header__nav",children:[Object(a.jsx)(h.b,{to:!s&&"/login",className:"header__clearlink",children:Object(a.jsxs)("div",{onClick:function(){s&&g.signOut()},className:"header__option",children:[Object(a.jsxs)("span",{className:"header__optionLineOne",children:["Hello ",s?s.email:"Guest"]}),Object(a.jsx)("span",{className:"header__optionLineTwo",children:s?"Sign Out":"Sign In"})]})}),Object(a.jsx)(h.b,{to:"/orders",className:"header__clearlink",children:Object(a.jsxs)("div",{className:"header__option",children:[Object(a.jsx)("span",{className:"header__optionLineOne",children:"Returns"}),Object(a.jsx)("span",{className:"header__optionLineTwo",children:"& Orders"})]})}),Object(a.jsxs)("div",{className:"header__option",children:[Object(a.jsx)("span",{className:"header__optionLineOne",children:"Your"}),Object(a.jsx)("span",{className:"header__optionLineTwo",children:"Prime"})]}),Object(a.jsx)(h.b,{to:"/checkout",className:"header__clearlink",children:Object(a.jsxs)("div",{className:"header__optionBasket",children:[Object(a.jsx)(m.a,{}),Object(a.jsx)("span",{className:"header__optionLineTwo header__basketCount",children:n.length})]})})]})]})};c(84),c(85);var f=function(e){var t=e.id,c=e.title,n=e.image,s=e.price,i=e.rating,r=p(),o=Object(l.a)(r,2),d=(o[0].basket,o[1]);return Object(a.jsxs)("div",{className:"product",children:[Object(a.jsxs)("div",{className:"product__info",children:[Object(a.jsx)("p",{children:c}),Object(a.jsxs)("p",{className:"product__price",children:[Object(a.jsx)("small",{children:"$"}),Object(a.jsx)("strong",{children:s})]}),Object(a.jsx)("div",{className:"product__rating",children:Array(i).fill().map((function(e,t){return Object(a.jsx)("p",{children:"\ud83c\udf1f"},t)}))})]}),Object(a.jsx)("img",{src:n,alt:""}),Object(a.jsx)("button",{onClick:function(){d({type:"ADD_TO_BASKET",item:{id:t,title:c,image:n,price:s,rating:i}})},children:"Add to Basket"})]})},S=c(61);c(93);var N=function(){return Object(a.jsx)("div",{className:"home",children:Object(a.jsxs)("div",{className:"home__container",children:[Object(a.jsxs)(S.Carousel,{showThumbs:!1,infiniteLoop:!0,showArrows:!1,interval:2e3,className:"home__image",autoPlay:!0,transitionTime:1500,stopOnHover:!1,swipeable:!0,emulateTouch:!0,showIndicators:!1,showStatus:!1,children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"https://m.media-amazon.com/images/I/71Z0Z8dGwWL._SX3000_.jpg"})}),Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"https://m.media-amazon.com/images/I/71KChS6ZVdL._SX3000_.jpg"})}),Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"https://m.media-amazon.com/images/I/71OHWlch4cL._SX3000_.jpg"})}),Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg"})})]}),Object(a.jsxs)("div",{className:"home__row",children:[Object(a.jsx)(f,{id:"123456",title:" NuPro Clear Screen Protector for Amazon Fire HD 8 tablet and Fire HD 8 Plus tablet (10th generation, 2020 release), 2-pack  ",price:219,rating:5,image:"https://m.media-amazon.com/images/I/61J9Evtc86L._AC_SL1500_.jpg"}),Object(a.jsx)(f,{id:"123456",title:"Barbie Dreamhouse (3.75-ft) 3-Story Dollhouse Playset with Pool & Slide, Party Room, Elevator, Puppy Play Area, Customizable Lights & Sounds, 75+... ",price:179.99,rating:5,image:"https://images-na.ssl-images-amazon.com/images/I/41nX-hDl84S._SX240_QL100_AC_SCLZZZZZZZ_.jpg"}),Object(a.jsx)(f,{id:"123456",title:"Amazon Basics Ergonomic Adjustable High-Back Mesh Chair with Flip-Up Arms and Headrest Contoured Mesh Seat - Black ",price:163.99,rating:5,image:"https://m.media-amazon.com/images/I/81pVe8Dl7KS._AC_SL1500_.jpg"})]}),Object(a.jsxs)("div",{className:"home__row",children:[Object(a.jsx)(f,{id:"123456",title:"(Renewed) Apple iPhone 11 Pro Max, US Version, 64GB, Silver - Unlocked",price:524.95,rating:4,image:"https://m.media-amazon.com/images/I/717jfWIn6tL._AC_SY350_.jpg"}),Object(a.jsx)(f,{id:"123456",title:" All-New Toshiba 55-inch Class M550 Series LED 4K UHD Smart Fire TV with Hands-Free with Alexa (55M550KU, 2021 Model)       ",price:497.99,rating:5,image:"https://images-na.ssl-images-amazon.com/images/I/81MZvjRyWXL._AC_UL400_SR300,400_.jpg"}),Object(a.jsx)(f,{id:"123456",title:"Brajttt 2.5 Inch Ceramic Succulent Planter Pot with Drainage,Planting Pot Flower Pots,Small Planter Pots for Mini Plant Ceramic Flowing Glaze Base Serial...",price:13.99,rating:5,image:"https://m.media-amazon.com/images/I/71woFMJfiGL._AC_SL1500_.jpg"})]}),Object(a.jsxs)("div",{className:"home__row",children:[Object(a.jsx)(f,{id:"123456",title:"Echo Show 5 (2nd Gen, 2021 release) | Smart display wif Alexa and 2 MP camera | Charcoal ",price:149.99,rating:5,image:"https://m.media-amazon.com/images/I/51iobpaEM5S._AC_SY400_.jpg"}),Object(a.jsx)(f,{id:"123456",title:"Laptop Bag for Women, 15.6 inch Slim Computer Briefcase Sleeve Case, Lightweight Cute Girls Messenger Shoulder Carrying Work Bag with Rfid Pocket for Office Travel School Fits 15.6 inch Notebook, Pink ",price:33.99,rating:5,image:"https://m.media-amazon.com/images/I/61rCVhcFJJL._AC_SL1500_.jpg"})]})]})})},k=c(11);c(94),c(95);var C=function(e){var t=e.id,c=e.image,n=e.title,s=e.price,i=e.rating,r=e.hideButton,o=p(),d=Object(l.a)(o,2),j=(d[0].basket,d[1]);return Object(a.jsxs)("div",{className:"checkoutProduct",children:[Object(a.jsx)("img",{className:"checkoutProduct__image",src:c}),Object(a.jsxs)("div",{className:"checkoutProduct__info",children:[Object(a.jsx)("p",{className:"checkoutProduct__title",children:n}),Object(a.jsxs)("p",{className:"checkoutProduct__price",children:[Object(a.jsx)("small",{children:"$"}),Object(a.jsx)("strong",{children:s})]}),Object(a.jsx)("div",{className:"checkoutProduct__rating",children:Array(i).fill().map((function(e,t){return Object(a.jsx)("p",{children:"\ud83c\udf1f"},t)}))}),!r&&Object(a.jsx)("button",{onClick:function(){j({type:"REMOVE_FROM_BASKET",id:t})},children:"Remove from Basket"})," "]})]})},y=(c(96),c(25)),A=c.n(y);var P=function(){var e=p(),t=Object(l.a)(e,2),c=t[0].basket,n=(t[1],Object(k.f)());return Object(a.jsxs)("div",{className:"subtotal",children:[Object(a.jsx)(A.a,{renderText:function(e){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["Subtotal (",c.length," items): ",Object(a.jsx)("strong",{children:e})]}),Object(a.jsxs)("small",{className:"subtotal__gift",children:[Object(a.jsx)("input",{type:"checkbox"})," This order contains a gift"]})]})},decimalScale:2,value:function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)}(c),displayType:"text",thousandSeparator:!0,prefix:"$"}),Object(a.jsx)("button",{onClick:function(e){return n.push("/payment")},children:"Proceed to Checkout"})]})};var E=function(){var e=p(),t=Object(l.a)(e,2),c=t[0].basket;return t[1],Object(a.jsxs)("div",{className:"checkout",children:[Object(a.jsxs)("div",{className:"checkout__left",children:[Object(a.jsx)("img",{className:"checkout__ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:""}),Object(a.jsx)("h3",{children:"Hello"}),Object(a.jsx)("h2",{className:"checkout__title",children:"Your shopping Basket"}),c.map((function(e){return Object(a.jsx)(C,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))]}),Object(a.jsx)("div",{className:"checkout__right",children:Object(a.jsx)(P,{})})]})};c(98);var w=function(){var e=Object(k.f)(),t=Object(n.useState)(""),c=Object(l.a)(t,2),s=c[0],i=c[1],r=Object(n.useState)(""),o=Object(l.a)(r,2),d=o[0],j=o[1];return Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)(h.b,{to:"/",children:Object(a.jsx)("img",{className:"login__logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png"})}),Object(a.jsxs)("div",{className:"login__container",children:[Object(a.jsx)("h1",{children:"Sign-in"}),Object(a.jsxs)("form",{children:[Object(a.jsx)("h5",{children:"E-mail"}),Object(a.jsx)("input",{type:"text",value:s,onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("h5",{children:"Password"}),Object(a.jsx)("input",{type:"password",value:d,onChange:function(e){return j(e.target.value)}}),Object(a.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),g.signInWithEmailAndPassword(s,d).then((function(t){e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login__signInButton",children:"Sign In"})]}),Object(a.jsx)("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),Object(a.jsx)("button",{onClick:function(t){t.preventDefault(),g.createUserWithEmailAndPassword(s,d).then((function(t){t&&e.push("/")})).catch((function(e){return console.log(e.message)}))},className:"login__registerButton",children:"Create your Amazon Account"})]})]})},T=c(27),I=c.n(T),B=c(38),L=(c(100),c(24)),M=c(62),z=c.n(M).a.create({baseURL:"https://us-central1-back-end-1d037.cloudfunctions.net/api"});var D=function(){var e=p(),t=Object(l.a)(e,2),c=t[0],s=c.basket,i=c.user,r=t[1],o=Object(k.f)(),d=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},j=Object(L.useStripe)(),u=Object(L.useElements)(),m=Object(n.useState)(null),b=Object(l.a)(m,2),O=b[0],x=b[1],g=Object(n.useState)(!0),v=Object(l.a)(g,2),f=v[0],S=v[1],N=Object(n.useState)(!1),y=Object(l.a)(N,2),P=y[0],E=y[1],w=Object(n.useState)(""),T=Object(l.a)(w,2),M=T[0],D=T[1],R=Object(n.useState)(!0),F=Object(l.a)(R,2),H=F[0],U=F[1];Object(n.useEffect)((function(){(function(){var e=Object(B.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({method:"post",url:"/payments/create?total=".concat(100*d(s))});case 2:t=e.sent,U(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),console.log("THE SECRET IS >>>",H);var G=function(){var e=Object(B.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),D(!0),e.next=4,j.confirmCardPayment(H,{payment_method:{card:u.getElement(L.CardElement)}}).then((function(e){var t=e.paymentIntent;_.collection("users").doc(i.uid).collection("orders").doc(t.id).set({basket:s,amount:t.amount,created:t.created}),E(!0),x(null),D(!1),r({type:"EMPTY_BASKET"}),o.replace("/orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"payment",children:Object(a.jsxs)("div",{className:"payment__container",children:[Object(a.jsxs)("h1",{children:["Checkout (",Object(a.jsxs)(h.b,{to:"/checkout",children:[null===s||void 0===s?void 0:s.length," items"]}),")"]}),Object(a.jsxs)("div",{className:"payment__section",children:[Object(a.jsx)("div",{className:"payment__title",children:Object(a.jsx)("h3",{children:"Delivery Address"})}),Object(a.jsxs)("div",{className:"payment__address",children:[Object(a.jsx)("p",{children:null===i||void 0===i?void 0:i.email}),Object(a.jsx)("p",{children:"123 React Lane"}),Object(a.jsx)("p",{children:"Chicago, IL"})]})]}),Object(a.jsxs)("div",{className:"payment__section",children:[Object(a.jsx)("div",{className:"payment__title",children:Object(a.jsx)("h3",{children:"Review items and delivery"})}),Object(a.jsx)("div",{className:"payment__items",children:s.map((function(e){return Object(a.jsx)(C,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))})]}),Object(a.jsxs)("div",{className:"payment__section",children:[Object(a.jsx)("div",{className:"payment__title",children:Object(a.jsx)("h3",{children:"Payment Method"})}),Object(a.jsx)("div",{className:"payment__details",children:Object(a.jsxs)("form",{onSubmit:G,children:[Object(a.jsx)(L.CardElement,{onChange:function(e){S(e.empty),x(e.error?e.error.message:"")}}),Object(a.jsxs)("div",{className:"payment__priceContainer",children:[Object(a.jsx)(A.a,{renderText:function(e){return Object(a.jsxs)("h3",{children:["Order Total: ",e]})},decimalScale:2,value:d(s),displayType:"text",thousandSeparator:!0,prefix:"$"}),Object(a.jsx)("button",{disabled:M||f||P,children:Object(a.jsx)("span",{children:M?Object(a.jsx)("p",{children:"Processing"}):"Buy Now"})})]}),O&&Object(a.jsx)("div",{children:O})]})})]})]})})},R=c(63),F=(c(117),c(64)),H=c.n(F);var U=function(e){var t,c=e.order;return Object(a.jsxs)("div",{className:"order",children:[Object(a.jsx)("h2",{children:"Order"}),Object(a.jsx)("p",{children:H.a.unix(c.data.created).format("MMMM Do YYYY, h:mma")}),Object(a.jsx)("p",{className:"order__id",children:Object(a.jsx)("small",{children:c.id})}),null===(t=c.data.basket)||void 0===t?void 0:t.map((function(e){return Object(a.jsx)(C,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating,hideButton:!0})})),Object(a.jsx)(A.a,{renderText:function(e){return Object(a.jsxs)("h3",{className:"order__total",children:["Order Total: ",e]})},decimalScale:2,value:c.data.amount/100,displayType:"text",thousandSeparator:!0,prefix:"$"})]})};c(119);var G=function(){var e=p(),t=Object(l.a)(e,2),c=t[0],s=(c.basket,c.user),i=(t[1],Object(n.useState)([])),r=Object(l.a)(i,2),o=r[0],d=r[1];return Object(n.useEffect)((function(){s?_.collection("users").doc(null===s||void 0===s?void 0:s.uid).collection("orders").orderBy("created","desc").onSnapshot((function(e){return d(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):d([])}),[s]),Object(a.jsxs)("div",{className:"orders",children:[Object(a.jsx)("h1",{children:"Your Orders"}),Object(a.jsx)("div",{className:"orders__order",children:null===o||void 0===o?void 0:o.map((function(e){return Object(a.jsx)(U,{order:e})}))})]})},K=Object(R.a)("pk_test_51Kh56LIjHyozsC6ODwNmJ8l0Rd2F5ITQ3XWfrg5A3ZsK7Bj6g3EzOMJI2MjN2H6zUTSVrYacSVdAPMvBtsrpVUEb00mxIgR1E5");var Z=function(){var e=p(),t=Object(l.a)(e,2);Object(o.a)(t[0]);var c=t[1];return Object(n.useEffect)((function(){g.onAuthStateChanged((function(e){c(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),Object(a.jsx)(h.a,{children:Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(k.c,{children:[Object(a.jsxs)(k.a,{path:"/orders",children:[Object(a.jsx)(v,{}),Object(a.jsx)(G,{})]}),Object(a.jsx)(k.a,{path:"/login",children:Object(a.jsx)(w,{})}),Object(a.jsx)(k.a,{path:"/payment",children:Object(a.jsx)(L.Elements,{stripe:K,children:Object(a.jsx)(D,{})})}),Object(a.jsxs)(k.a,{path:"/checkout",children:[Object(a.jsx)(v,{}),Object(a.jsx)(E,{})]}),Object(a.jsxs)(k.a,{path:"/",children:[Object(a.jsx)(v,{}),Object(a.jsx)(N,{})]})]})})})},V=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,133)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))},Y=c(40),W=c(22),J=function(e,t){switch(console.log(t),t.type){case"ADD_TO_BASKET":return Object(W.a)(Object(W.a)({},e),{},{basket:[].concat(Object(Y.a)(e.basket),[t.item])});case"EMPTY_BASKET":return Object(W.a)(Object(W.a)({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var c=e.basket.findIndex((function(e){return e.id===t.id})),a=Object(Y.a)(e.basket);return c>=0?a.splice(c,1):console.warn("Cant remove product (id: ".concat(t.id,") as its not in basket!")),Object(W.a)(Object(W.a)({},e),{},{basket:a});case"SET_USER":return Object(W.a)(Object(W.a)({},e),{},{user:t.user});default:return e}};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(O,{initialState:{basket:[],user:null},reducer:J,children:Object(a.jsx)(Z,{})})}),document.getElementById("root")),V()},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){},96:function(e,t,c){},98:function(e,t,c){}},[[121,1,2]]]);
//# sourceMappingURL=main.4ea87070.chunk.js.map